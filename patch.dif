diff -u intel-e1000e-3.3.4/src/Makefile e1000e-3.3.4/src/Makefile
--- intel-e1000e-3.3.4/src/Makefile   2016-05-10 10:10:28.000000000 +0000
+++ e1000e-3.3.4/src/Makefile     2019-05-06 00:09:45.292780516 +0000
@@ -27,11 +27,16 @@
 FAMILYC = 82571.c ich8lan.c 80003es2lan.c
 FAMILYH = 82571.h ich8lan.h 80003es2lan.h
 
+# Earth Computing additions
+EARTHC = entl_state_machine.c
+EARTHH = entl_user_api.h entl_state_machine.h entl_device.h entl_device.c
+EXTRA_CFLAGS += -Wno-error=date-time
+
 # core driver files
 CFILES = netdev.c ethtool.c param.c $(FAMILYC) \
-         mac.c nvm.c phy.c manage.c kcompat.c
+         mac.c nvm.c phy.c manage.c kcompat.c $(EARTHC)
 HFILES = e1000.h hw.h regs.h defines.h \
-         mac.h nvm.h phy.h manage.h $(FAMILYH) kcompat.h
+         mac.h nvm.h phy.h manage.h $(FAMILYH) kcompat.h $(EARTHH)
 ifeq (,$(BUILD_KERNEL))
 BUILD_KERNEL=$(shell uname -r)
 endif

diff -u intel-e1000e-3.3.4/src/e1000.h e1000e-3.3.4/src/e1000.h
--- intel-e1000e-3.3.4/src/e1000.h	2016-05-10 10:10:28.000000000 +0000
+++ e1000e-3.3.4/src/e1000.h	2019-05-06 00:37:07.387213339 +0000
@@ -48,6 +48,8 @@
 #endif
 #include "hw.h"
 
+#include "entl_device.h"
+
 struct e1000_info;
 
 #define e_dbg(format, arg...) \
@@ -406,6 +408,10 @@
 	struct pm_qos_request_list pm_qos_req;
 #endif
 	u16 eee_advert;
+
+	u32 entl_flag;
+	entl_device_t entl_dev;
+	spinlock_t entl_txring_lock;
 };
 
 struct e1000_info {

